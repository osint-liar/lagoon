[
  {
    "name": "Basic Pie Chart By Count",
    "id": "basic_pie_chart",
    "active": true,
    "sql": "SELECT {{FieldName}}, COUNT(*) as Count FROM ApiCoreData WHERE CaseManagementUuid = :CaseManagementUuid GROUP BY {{FieldName}} ORDER BY Count DESC",
    "dataUrl": "{{WebHost}}v1/analysis-tool/raw-sql?SqlQuery={{SqlQuery}}&CaseManagementUuid={{CaseManagementUuid}}&FieldName={{FieldName}}",
    "specification": {
      "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
      "description": "A basic pie chart",
      "data": {
        "url": "",
        "format": {
          "type": "json",
          "property": "data"
        }
      },
      "transform": [
        {
          "calculate": "datum.{{FieldName}}",
          "as": "category"
        },
        {
          "calculate": "datum.Count",
          "as": "value"
        }
      ],
      "mark": "arc",
      "encoding": {
        "theta": {"field": "value", "type": "quantitative"},
        "color": {"field": "category", "type": "nominal"}
      },
      "view": {"stroke": null}
    }
  },
  {
    "name": "Content Type Grouped By Summed File Size",
    "id": "content_type_by_summed_by_file_size",
    "active": true,
    "sql": "SELECT ContentTypeName, SUM(ContentSize) as SumContentSize FROM ApiCoreData WHERE CaseManagementUuid = :CaseManagementUuid GROUP BY ContentTypeName ORDER BY SumContentSize DESC",
    "dataUrl": "{{WebHost}}v1/analysis-tool/raw-sql?SqlQuery={{SqlQuery}}&CaseManagementUuid={{CaseManagementUuid}}&FieldName=ContentTypeName",
    "specification": {
      "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
      "description": "A basic pie chart",
      "data": {
        "url": "",
        "format": {
          "type": "json",
          "property": "data"
        }
      },
      "transform": [
        {
          "calculate": "datum.FieldName",
          "as": "category"
        },
        {
          "calculate": "datum.Count",
          "as": "value"
        }
      ],
      "mark": "arc",
      "encoding": {
        "theta": {"field": "value", "type": "quantitative"},
        "color": {"field": "category", "type": "nominal"}
      },
      "view": {"stroke": null}
    }
  }
]